
record(bi, "$(D):Sys-OutVoltEnbl-RB"){
    field(DESC, "Enable/Disable output voltage")
    field(PHAS, "0")
    field(ZNAM, "Disable")
    field(ONAM, "Enable")
    field(PRIO, "HIGH")

    field(DTYP, "stream")
    field(INP,  "@Regatron.proto getInt(getSysOutVoltEnable) $(P)")
}
record(bo, "$(D):Sys-OutVoltEnbl-SP"){
    field(PINI, "NO")
    field(DESC, "Enable/Disable output voltage")
    field(PHAS, "0")
    field(ZNAM, "Disable")
    field(ONAM, "Enable")
    field(PRIO, "HIGH")

    field(DTYP, "stream")
    field(OUT,  "@Regatron.proto setInt(setSysOutVoltEnable) $(P)")
    field(FLNK, "$(D):Sys-OutVoltEnbl-RB")
}
record(bi, "$(D):Sys-OutVoltEnbl_proc"){
    field(SCAN, "60 second")
    field(PHAS, "0")
    field(PRIO, "HIGH")
    field(DTYP, "Soft Channel")
    field(FLNK, "$(D):Sys-OutVoltEnbl-RB")
}

record(ai, "$(D):Sys-VoltageRef-RB"){
    field(DESC, "Reference val. for voltage")
    field(EGU,  "V")
    field(PREC, "2")
    field(PHAS, "0")
    field(LINR, "NO CONVERSION")
    field(EOFF, "0")
    field(ESLO, "1")
    field(PRIO, "HIGH")

    field(DTYP, "stream")
    field(INP,  "@Regatron.proto getFloat(getSysVoltageRef) $(P)")
}
record(ao, "$(D):Sys-VoltageRef-SP"){
    field(PINI, "NO")
    field(DESC, "Reference val. for voltage")
    field(EGU,  "V")
    field(PREC, "2")
    field(PHAS, "0")
    field(LINR, "NO CONVERSION")
    field(EOFF, "0")
    field(ESLO, "1")
    field(PRIO, "HIGH")
    field(DRVH, "0")
    field(DRVL, "0")

    field(DTYP, "stream")
    field(OUT,  "@Regatron.proto setFloat(setSysVoltageRef) $(P)")
    field(FLNK, "$(D):Sys-VoltageRef-RB")
}
record(bi, "$(D):Sys-VoltageRef_proc"){
    field(SCAN, "60 second")
    field(PHAS, "0")
    field(PRIO, "HIGH")
    field(DTYP, "Soft Channel")
    field(FLNK, "$(D):Sys-VoltageRef-RB")
}

record(ai, "$(D):Sys-CurrentRef-RB"){
    field(DESC, "Reference val. for current")
    field(EGU,  "A")
    field(PREC, "2")
    field(PHAS, "0")
    field(LINR, "NO CONVERSION")
    field(EOFF, "0")
    field(ESLO, "1")
    field(PRIO, "HIGH")

    field(DTYP, "stream")
    field(INP,  "@Regatron.proto getFloat(getSysCurrentRef) $(P)")
}
record(ao, "$(D):Sys-CurrentRef-SP"){
    field(PINI, "NO")
    field(DESC, "Reference val. for current")
    field(EGU,  "A")
    field(PREC, "2")
    field(PHAS, "0")
    field(LINR, "NO CONVERSION")
    field(EOFF, "0")
    field(ESLO, "1")
    field(PRIO, "HIGH")
    field(DRVH, "0")
    field(DRVL, "0")

    field(DTYP, "stream")
    field(OUT,  "@Regatron.proto setFloat(setSysCurrentRef) $(P)")
    field(FLNK, "$(D):Sys-CurrentRef-RB")
}
record(bi, "$(D):Sys-CurrentRef_proc"){
    field(SCAN, "60 second")
    field(PHAS, "0")
    field(PRIO, "HIGH")
    field(DTYP, "Soft Channel")
    field(FLNK, "$(D):Sys-CurrentRef-RB")
}

record(ai, "$(D):Sys-ResistanceRef-RB"){
    field(DESC, "Reference val. for resistance")
    field(EGU,  "mOhm")
    field(PREC, "2")
    field(PHAS, "0")
    field(LINR, "NO CONVERSION")
    field(EOFF, "0")
    field(ESLO, "1")
    field(PRIO, "HIGH")

    field(DTYP, "stream")
    field(INP,  "@Regatron.proto getFloat(getSysResistanceRef) $(P)")
}
record(ao, "$(D):Sys-ResistanceRef-SP"){
    field(PINI, "NO")
    field(DESC, "Reference val. for resistance")
    field(EGU,  "mOhm")
    field(PREC, "2")
    field(PHAS, "0")
    field(LINR, "NO CONVERSION")
    field(EOFF, "0")
    field(ESLO, "1")
    field(PRIO, "HIGH")
    field(DRVH, "0")
    field(DRVL, "0")

    field(DTYP, "stream")
    field(OUT,  "@Regatron.proto setFloat(setSysResistanceRef) $(P)")
    field(FLNK, "$(D):Sys-ResistanceRef-RB")
}
record(bi, "$(D):Sys-ResistanceRef_proc"){
    field(SCAN, "60 second")
    field(PHAS, "0")
    field(PRIO, "HIGH")
    field(DTYP, "Soft Channel")
    field(FLNK, "$(D):Sys-ResistanceRef-RB")
}

record(ai, "$(D):Sys-PwrRef-RB"){
    field(DESC, "Reference val. for power")
    field(EGU,  "kW")
    field(PREC, "2")
    field(PHAS, "0")
    field(LINR, "NO CONVERSION")
    field(EOFF, "0")
    field(ESLO, "1")
    field(PRIO, "HIGH")

    field(DTYP, "stream")
    field(INP,  "@Regatron.proto getFloat(getSysPowerRef) $(P)")
}
record(ao, "$(D):Sys-PwrRef-SP"){
    field(PINI, "NO")
    field(DESC, "Reference val. for power")
    field(EGU,  "kW")
    field(PREC, "2")
    field(PHAS, "0")
    field(LINR, "NO CONVERSION")
    field(EOFF, "0")
    field(ESLO, "1")
    field(PRIO, "HIGH")
    field(DRVH, "0")
    field(DRVL, "0")

    field(DTYP, "stream")
    field(OUT,  "@Regatron.proto setFloat(setSysPowerRef) $(P)")
    field(FLNK, "$(D):Sys-PwrRef-RB")
}
record(bi, "$(D):Sys-PwrRef_proc"){
    field(SCAN, "60 second")
    field(PHAS, "0")
    field(PRIO, "HIGH")
    field(DTYP, "Soft Channel")
    field(FLNK, "$(D):Sys-PwrRef-RB")
}

record(bi, "$(D):Sys-VoltSlopeWf-Mon_proc"){
    field(SCAN, "60 second")
    field(PHAS, "0")
    field(PRIO, "LOW")
    field(DTYP, "Soft Channel")
    field(FLNK, "$(D):Sys-VoltSlopeWf-Mon")
}

record(waveform, "$(D):Sys-VoltSlopeWf-Mon"){
    field(SCAN, "Passive")
    field(DTYP, "stream")
    field(INP,  "@Regatron.proto getArray(getSlopeVolt) $(P)")
    field(FTVL, "DOUBLE")
    field(NELM, "4")
    field(PRIO, "HIGH")
}

record(longin, "$(D):Sys-StartupVoltSlopeRaw-RB"){
    field(SCAN, "Passive")
    field(INP,  "$(D):Sys-VoltSlopeWf-Mon.VAL[0] CP MSS")
    field(DESC, "Set values when enabling output volt")
    field(DTYP, "Soft Channel")
    field(EGU, "units")
}

record(longin, "$(D):Sys-VoltSlopeRaw-RB"){
    field(SCAN, "Passive")
    field(INP,  "$(D):Sys-VoltSlopeWf-Mon.VAL[1] CP MSS")
    field(DESC, "Set values when they are changed")
    field(DTYP, "Soft Channel")
    field(EGU, "units")
}

record(ai, "$(D):Sys-StartupVoltSlope-RB"){
    field(SCAN, "Passive")
    field(DESC, "Set values when enabling output volt")
    field(EGU,  "V/ms")
    field(PREC, "2")
    field(DTYP, "Soft Channel")

    field(INP,  "$(D):Sys-VoltSlopeWf-Mon.VAL[2] CP MSS")
}

record(ai, "$(D):Sys-VoltSlope-RB"){
    field(SCAN, "Passive")
    field(DESC, "Set values when they are changed")
    field(EGU,  "V/ms")
    field(PREC, "2")
    field(DTYP, "Soft Channel")

    field(INP,  "$(D):Sys-VoltSlopeWf-Mon.VAL[3] CP MSS")
}

record(ai, "$(D):Sys-SlopeVoltMax-Mon"){
    field(PINI, "NO")
    field(SCAN, "30 second")
    field(DESC, "Voltage slope max")
    field(EGU,  "V/ms")
    field(PREC, "2")
    field(PHAS, "0")
    field(LINR, "NO CONVERSION")
    field(EOFF, "0")
    field(ESLO, "1")
    field(FLNK, "")

    field(DTYP, "stream")
    field(INP,  "@Regatron.proto getFloat(getSlopeVoltMax) $(P)")
}

record(ai, "$(D):Sys-SlopeVoltMin-Mon"){
    field(PINI, "NO")
    field(SCAN, "30 second")
    field(DESC, "Voltage slope min")
    field(EGU,  "V/ms")
    field(PREC, "2")
    field(PHAS, "0")
    field(LINR, "NO CONVERSION")
    field(EOFF, "0")
    field(ESLO, "1")
    field(FLNK, "")

    field(DTYP, "stream")
    field(INP,  "@Regatron.proto getFloat(getSlopeVoltMin) $(P)")
}

record(ao, "$(D):Sys-StartupVoltSlope-SP"){
    field(PINI, "NO")
    field(DESC, "Set values when enabling output volt")
    field(EGU,  "V/ms")
    field(PREC, "2")
    field(PHAS, "0")
    field(LINR, "NO CONVERSION")
    field(EOFF, "0")
    field(ESLO, "1")
    field(PRIO, "HIGH")
    field(DRVH, "0")
    field(DRVL, "0")

    field(DTYP, "stream")
    field(OUT,  "@Regatron.proto setFloat(setSlopeStartupVoltMs) $(P)")
    field(FLNK, "$(D):Sys-StartupVoltSlope-SP_")
}

record(ai, "$(D):Sys-StartupVoltSlope-SP_"){
    field(PINI, "NO")
    field(SCAN, ".5 second")
    field(DESC, "Actual setpoint to be sent")
    field(EGU,  "V/ms")
    field(PREC, "2")
    field(PHAS, "0")
    field(LINR, "NO CONVERSION")
    field(EOFF, "0")
    field(ESLO, "1")
    field(FLNK, "")

    field(DTYP, "stream")
    field(INP,  "@Regatron.proto getFloat(getSlopeStartupVoltSp) $(P)")
}

record(ao, "$(D):Sys-VoltSlope-SP"){
    field(PINI, "NO")
    field(DESC, "Set values when they are changed")
    field(EGU,  "V/ms")
    field(PREC, "2")
    field(PHAS, "0")
    field(LINR, "NO CONVERSION")
    field(EOFF, "0")
    field(ESLO, "1")
    field(PRIO, "HIGH")
    field(DRVH, "0")
    field(DRVL, "0")

    field(DTYP, "stream")
    field(OUT,  "@Regatron.proto setFloat(setSlopeVoltMs) $(P)")
    field(FLNK, "")
}

record(ai, "$(D):Sys-VoltSlope-SP_"){
    field(PINI, "NO")
    field(SCAN, ".5 second")
    field(DESC, "Actual setpoint to be sent")
    field(EGU,  "V/ms")
    field(PREC, "2")
    field(PHAS, "0")
    field(LINR, "NO CONVERSION")
    field(EOFF, "0")
    field(ESLO, "1")
    field(FLNK, "")

    field(DTYP, "stream")
    field(INP,  "@Regatron.proto getFloat(getSlopeVoltSp) $(P)")
}

record(longout, "$(D):Sys-StartupVoltSlopeRaw-SP"){
    field(PINI, "NO")
    field(DESC, "Set values when enabling output volt")
    field(EGU,  "units")
    field(PHAS, "0")
    field(PRIO, "HIGH")
    field(DRVH, "32000")
    field(DRVL, "1")

    field(DTYP, "stream")
    field(OUT,  "@Regatron.proto setInt(setSlopeStartupVoltRaw) $(P)")
    field(FLNK, "")
}

record(longout, "$(D):Sys-VoltSlopeRaw-SP"){
    field(PINI, "NO")
    field(DESC, "Set values when they are changed")
    field(EGU,  "units")
    field(PHAS, "0")
    field(PRIO, "HIGH")
    field(DRVH, "32000")
    field(DRVL, "1")

    field(DTYP, "stream")
    field(OUT,  "@Regatron.proto setInt(setSlopeVoltRaw) $(P)")
    field(FLNK, "")
}

record(bo, "$(D):Sys-WriteVoltSlope-Cmd"){
    field(DESC, "Apply voltage slope settings")
    field(ONAM, "")
    field(ZNAM, "")
    field(DISA, "1")
    field(DISV, "0")
    field(PRIO, "HIGH")
    field(DISS, "INVALID")
    field(FLNK, "$(D):Sys-VoltSlopeWf-Mon")

    field(DTYP, "stream")
    field(OUT,  "@Regatron.proto cmd(cmdSlopeVoltWrite) $(P)")
}

record(bi, "$(D):Sys-CurrSlopeWf-Mon_proc"){
    field(SCAN, "60 second")
    field(PHAS, "0")
    field(PRIO, "LOW")
    field(DTYP, "Soft Channel")
    field(FLNK, "$(D):Sys-CurrSlopeWf-Mon")
}

record(waveform, "$(D):Sys-CurrSlopeWf-Mon"){
    field(SCAN, "Passive")
    field(DTYP, "stream")
    field(INP,  "@Regatron.proto getArray(getSlopeCurrent) $(P)")
    field(FTVL, "DOUBLE")
    field(NELM, "4")
    field(PRIO, "HIGH")
}

record(longin, "$(D):Sys-StartupCurrSlopeRaw-RB"){
    field(SCAN, "Passive")
    field(INP,  "$(D):Sys-CurrSlopeWf-Mon.VAL[0] CP MSS")
    field(DESC, "Set values when enabling output volt")
    field(DTYP, "Soft Channel")
    field(EGU, "units")
}

record(longin, "$(D):Sys-CurrSlopeRaw-RB"){
    field(SCAN, "Passive")
    field(INP,  "$(D):Sys-CurrSlopeWf-Mon.VAL[1] CP MSS")
    field(DESC, "Set values when they are changed")
    field(DTYP, "Soft Channel")
    field(EGU, "units")
}

record(ai, "$(D):Sys-StartupCurrSlope-RB"){
    field(SCAN, "Passive")
    field(DESC, "Set values when enabling output volt")
    field(EGU,  "A/ms")
    field(PREC, "2")
    field(DTYP, "Soft Channel")

    field(INP,  "$(D):Sys-CurrSlopeWf-Mon.VAL[2] CP MSS")
}

record(ai, "$(D):Sys-CurrSlope-RB"){
    field(SCAN, "Passive")
    field(DESC, "Set values when they are changed")
    field(EGU,  "A/ms")
    field(PREC, "2")
    field(DTYP, "Soft Channel")

    field(INP,  "$(D):Sys-CurrSlopeWf-Mon.VAL[3] CP MSS")
}

record(ai, "$(D):Sys-SlopeCurrMax-Mon"){
    field(PINI, "NO")
    field(SCAN, "30 second")
    field(DESC, "Current slope max")
    field(EGU,  "A/ms")
    field(PREC, "2")
    field(PHAS, "0")
    field(LINR, "NO CONVERSION")
    field(EOFF, "0")
    field(ESLO, "1")
    field(FLNK, "")

    field(DTYP, "stream")
    field(INP,  "@Regatron.proto getFloat(getSlopeCurrentMax) $(P)")
}

record(ai, "$(D):Sys-SlopeCurrMin-Mon"){
    field(PINI, "NO")
    field(SCAN, "30 second")
    field(DESC, "Current slope min")
    field(EGU,  "A/ms")
    field(PREC, "2")
    field(PHAS, "0")
    field(LINR, "NO CONVERSION")
    field(EOFF, "0")
    field(ESLO, "1")
    field(FLNK, "")

    field(DTYP, "stream")
    field(INP,  "@Regatron.proto getFloat(getSlopeCurrentMin) $(P)")
}

record(ao, "$(D):Sys-StartupCurrSlope-SP"){
    field(PINI, "NO")
    field(DESC, "Set values when enabling output current")
    field(EGU,  "A/ms")
    field(PREC, "2")
    field(PHAS, "0")
    field(LINR, "NO CONVERSION")
    field(EOFF, "0")
    field(ESLO, "1")
    field(PRIO, "HIGH")
    field(DRVH, "0")
    field(DRVL, "0")

    field(DTYP, "stream")
    field(OUT,  "@Regatron.proto setFloat(setSlopeStartupCurrentMs) $(P)")
    field(FLNK, "$(D):Sys-StartupCurrSlope-SP_")
}

record(ai, "$(D):Sys-StartupCurrSlope-SP_"){
    field(PINI, "NO")
    field(SCAN, ".5 second")
    field(DESC, "Actual setpoint to be sent")
    field(EGU,  "A/ms")
    field(PREC, "2")
    field(PHAS, "0")
    field(LINR, "NO CONVERSION")
    field(EOFF, "0")
    field(ESLO, "1")
    field(FLNK, "")

    field(DTYP, "stream")
    field(INP,  "@Regatron.proto getFloat(getSlopeStartupCurrentSp) $(P)")
}

record(ao, "$(D):Sys-CurrSlope-SP"){
    field(PINI, "NO")
    field(DESC, "Set values when they are changed")
    field(EGU,  "A/ms")
    field(PREC, "2")
    field(PHAS, "0")
    field(LINR, "NO CONVERSION")
    field(EOFF, "0")
    field(ESLO, "1")
    field(PRIO, "HIGH")
    field(DRVH, "0")
    field(DRVL, "0")

    field(DTYP, "stream")
    field(OUT,  "@Regatron.proto setFloat(setSlopeCurrentMs) $(P)")
    field(FLNK, "$(D):Sys-CurrSlope-SP_")
}

record(ai, "$(D):Sys-CurrSlope-SP_"){
    field(PINI, "NO")
    field(SCAN, ".5 second")
    field(DESC, "Actual setpoint to be sent")
    field(EGU,  "A/ms")
    field(PREC, "2")
    field(PHAS, "0")
    field(LINR, "NO CONVERSION")
    field(EOFF, "0")
    field(ESLO, "1")
    field(FLNK, "")

    field(DTYP, "stream")
    field(INP,  "@Regatron.proto getFloat(getSlopeCurrentSp) $(P)")
}

record(longout, "$(D):Sys-StartupCurrSlopeRaw-SP"){
    field(PINI, "NO")
    field(DESC, "Set values when enabling output current")
    field(EGU,  "units")
    field(PHAS, "0")
    field(PRIO, "HIGH")
    field(DRVH, "32000")
    field(DRVL, "1")

    field(DTYP, "stream")
    field(OUT,  "@Regatron.proto setInt(setSlopeStartupCurrentRaw) $(P)")
    field(FLNK, "")
}

record(longout, "$(D):Sys-CurrSlopeRaw-SP"){
    field(PINI, "NO")
    field(DESC, "Set values when they are changed")
    field(EGU,  "units")
    field(PHAS, "0")
    field(PRIO, "HIGH")
    field(DRVH, "32000")
    field(DRVL, "1")

    field(DTYP, "stream")
    field(OUT,  "@Regatron.proto setInt(setSlopeCurrentRaw) $(P)")
    field(FLNK, "")
}

record(bo, "$(D):Sys-WriteCurrSlope-Cmd"){
    field(DESC, "Apply current slope settings")
    field(ONAM, "")
    field(ZNAM, "")
    field(DISA, "1")
    field(DISV, "0")
    field(PRIO, "HIGH")
    field(DISS, "INVALID")
    field(FLNK, "$(D):Sys-CurrSlopeWf-Mon")

    field(DTYP, "stream")
    field(OUT,  "@Regatron.proto cmd(cmdSlopeCurrentWrite) $(P)")
}
